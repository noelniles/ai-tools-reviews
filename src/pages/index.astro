---
import { getCollection } from 'astro:content'
import BaseLayout from '../layouts/BaseLayout.astro'
import Nav from '../components/Nav.astro'
import ReviewCard from '../components/ReviewCard.astro'

const reviews = await getCollection('reviews')
const sorted = reviews.sort(
  (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
)
---

<BaseLayout>
  <Nav />

  <section class="space-y-8">
    <header class="space-y-3">
      <h1 class="text-3xl font-bold tracking-tight">
        Independent reviews of AI tools
      </h1>
      <p class="text-slate-300 max-w-2xl text-sm">
        Benchmarks, hands-on tests, and clear recommendations for developers, creators, and teams choosing AI tools.
      </p>
      <div class="flex gap-3 pt-2">
        <a href="/submit-review" class="inline-flex items-center gap-2 px-6 py-2.5 bg-brand hover:bg-brand/80 rounded-lg font-semibold transition-colors text-sm">
          Share Your Experience
        </a>
        <a href="/compare" class="inline-flex items-center gap-2 px-6 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg font-semibold transition-colors text-sm">
          Compare Tools
        </a>
      </div>
    </header>

    <section class="grid gap-4 md:grid-cols-2">
      {sorted.map((review) => (
        <ReviewCard review={review} />
      ))}
    </section>
  </section>
</BaseLayout>
